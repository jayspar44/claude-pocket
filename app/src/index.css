@import "tailwindcss";

/* Define custom variant for dark mode in Tailwind v4 */
@custom-variant dark (&:is(.dark *));

@theme {
  /* Terminal Color Palette */
  --color-terminal-bg: #1a1a2e;
  --color-terminal-fg: #e0e0e0;

  /* Fonts */
  --font-sans: ui-sans-serif, system-ui, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
}

:root {
  /* Capacitor SystemBars fallback variables (for older Android WebView) */
  --safe-area-top: env(safe-area-inset-top, var(--safe-area-inset-top, 0px));
  --safe-area-bottom: env(safe-area-inset-bottom, var(--safe-area-inset-bottom, 0px));
  --safe-area-left: env(safe-area-inset-left, var(--safe-area-inset-left, 0px));
  --safe-area-right: env(safe-area-inset-right, var(--safe-area-inset-right, 0px));
}

@layer base {
  html,
  body,
  #root {
    height: 100%;
    height: 100dvh;
    margin: 0;
    padding: 0;
    width: 100%;
    overflow: hidden;
  }

  body {
    @apply bg-gray-900 text-white font-sans antialiased;
  }
}

@layer utilities {
  /* Safe area padding */
  .safe-area-top {
    padding-top: var(--safe-area-top);
  }

  .safe-area-bottom {
    padding-bottom: var(--safe-area-bottom);
  }

  .safe-area-left {
    padding-left: var(--safe-area-left);
  }

  .safe-area-right {
    padding-right: var(--safe-area-right);
  }

  /* No scrollbar utility */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Slide up animation for bottom sheets */
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* xterm.js overrides for better mobile display */
.xterm {
  padding: 8px;
}

.xterm-viewport {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  touch-action: pan-y;
}

.xterm-screen {
  width: 100% !important;
}

/* Improve touch scrolling on mobile */
@media (pointer: coarse) {
  .xterm-viewport {
    /* Larger scroll hitbox for touch */
    scrollbar-width: thin;
  }

  .xterm-viewport::-webkit-scrollbar {
    width: 6px;
  }

  .xterm-viewport::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;
  }
}

/* ANSI color classes for ansi_up */
.ansi-black { color: #1a1a2e; }
.ansi-red { color: #ff6b6b; }
.ansi-green { color: #4ade80; }
.ansi-yellow { color: #fbbf24; }
.ansi-blue { color: #60a5fa; }
.ansi-magenta { color: #c084fc; }
.ansi-cyan { color: #22d3ee; }
.ansi-white { color: #e0e0e0; }

.ansi-bright-black { color: #6b7280; }
.ansi-bright-red { color: #f87171; }
.ansi-bright-green { color: #86efac; }
.ansi-bright-yellow { color: #fde047; }
.ansi-bright-blue { color: #93c5fd; }
.ansi-bright-magenta { color: #d8b4fe; }
.ansi-bright-cyan { color: #67e8f9; }
.ansi-bright-white { color: #ffffff; }

.ansi-bg-black { background-color: #1a1a2e; }
.ansi-bg-red { background-color: #ff6b6b; }
.ansi-bg-green { background-color: #4ade80; }
.ansi-bg-yellow { background-color: #fbbf24; }
.ansi-bg-blue { background-color: #60a5fa; }
.ansi-bg-magenta { background-color: #c084fc; }
.ansi-bg-cyan { background-color: #22d3ee; }
.ansi-bg-white { background-color: #e0e0e0; }

.ansi-bold { font-weight: bold; }
.ansi-dim { opacity: 0.7; }
.ansi-italic { font-style: italic; }
.ansi-underline { text-decoration: underline; }
